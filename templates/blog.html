{% extends "base.html" %}

{% block content %}
<section class="blog-container">
  <h1 class="blog-h1">Blog Cybersécurité</h1>
  <p class="blog-intro">
    Retrouvez les derniers articles de <strong>Le Coin Sécu</strong> : analyses, conseils et actualités sur la sécurité numérique.
  </p>

  <div class="blog-grid">
    {% for article in articles %}
    <article class="blog-card">
      {% if article.image %}
        <img src="{{ url_for('static', filename='images/' + article.image) }}" alt="{{ article.title }}" class="blog-image">
      {% endif %}
      <div class="blog-content">
        <h2 class="blog-h2">
          <a href="{{ url_for('blog_article', article_id=article._id) }}" class="blog-link">
            {{ article.title }}
          </a>
        </h2>
        <h3 class="blog-h3">{{ article.subtitle }}</h3>

        <p class="blog-text">
          {% set excerpt = article.content | join(' ') %}
          {{ excerpt[:150] }}{% if excerpt|length > 150 %}...{% endif %}
        </p>

        <p class="blog-meta">
          Par <strong>{{ article.author }}</strong> — {{ article.date.strftime('%d/%m/%Y') }}
        </p>
      </div>
    </article>
    {% endfor %}
  </div>
</section>
{% endblock %}
